{"ast":null,"code":"'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n  return to;\n};\nvar _a = require('../../util/constants'),\n  E = _a.typeErrors,\n  trackPriority = _a.trackPriority;\nvar isIOS = require('../../util/browserdetection').isIOS;\nvar documentVisibilityMonitor = require('../../util/documentvisibilitymonitor.js');\nfunction mixinRemoteMediaTrack(AudioOrVideoTrack) {\n  /**\n   * A {@link RemoteMediaTrack} represents a {@link MediaTrack} published to a\n   * {@link Room} by a {@link RemoteParticipant}.\n   * @property {boolean} isEnabled - Whether the {@link RemoteMediaTrack} is enabled\n   * @property {boolean} isSwitchedOff - Whether the {@link RemoteMediaTrack} is switched off\n   * @property {Track.SID} sid - The SID assigned to the {@link RemoteMediaTrack}\n   * @property {?Track.Priority} priority - The subscribe priority of the {@link RemoteMediaTrack}\n   * @emits RemoteMediaTrack#disabled\n   * @emits RemoteMediaTrack#enabled\n   * @emits RemoteMediaTrack#switchedOff\n   * @emits RemoteMediaTrack#switchedOn\n   */\n  return /** @class */function (_super) {\n    __extends(RemoteMediaTrack, _super);\n    /**\n     * Construct a {@link RemoteMediaTrack}.\n     * @param {Track.SID} sid\n     * @param {MediaTrackReceiver} mediaTrackReceiver\n     * @param {boolean} isEnabled\n      @param {boolean} isSwitchedOff\n     * @param {function(?Track.Priority): void} setPriority - Set or clear the subscribe\n     *  {@link Track.Priority} of the {@link RemoteMediaTrack}\n     * @param {function(ClientRenderHint): void} setRenderHint - Set render hints.\n     * @param {{log: Log, name: ?string}} options\n     */\n    function RemoteMediaTrack(sid, mediaTrackReceiver, isEnabled, isSwitchedOff, setPriority, setRenderHint, options) {\n      var _this = this;\n      options = Object.assign({\n        // NOTE(mpatwardhan): WebKit bug: 212780 sometimes causes the audio/video elements to stay paused when safari\n        // regains foreground. To workaround it, when safari gains foreground - we will play any elements that were\n        // playing before safari lost foreground.\n        workaroundWebKitBug212780: isIOS() && typeof document === 'object' && typeof document.addEventListener === 'function' && typeof document.visibilityState === 'string'\n      }, options);\n      _this = _super.call(this, mediaTrackReceiver, options) || this;\n      Object.defineProperties(_this, {\n        _isEnabled: {\n          value: isEnabled,\n          writable: true\n        },\n        _isSwitchedOff: {\n          value: isSwitchedOff,\n          writable: true\n        },\n        _priority: {\n          value: null,\n          writable: true\n        },\n        _setPriority: {\n          value: setPriority\n        },\n        _setRenderHint: {\n          value: function (renderHint) {\n            _this._log.debug('updating render hint:', renderHint);\n            setRenderHint(renderHint);\n          }\n        },\n        isEnabled: {\n          enumerable: true,\n          get: function () {\n            return this._isEnabled;\n          }\n        },\n        isSwitchedOff: {\n          enumerable: true,\n          get: function () {\n            return this._isSwitchedOff;\n          }\n        },\n        priority: {\n          enumerable: true,\n          get: function () {\n            return this._priority;\n          }\n        },\n        sid: {\n          enumerable: true,\n          value: sid\n        },\n        _workaroundWebKitBug212780: {\n          value: options.workaroundWebKitBug212780\n        },\n        _workaroundWebKitBug212780Cleanup: {\n          value: null,\n          writable: true\n        }\n      });\n      return _this;\n    }\n    /**\n     * Update the subscribe {@link Track.Priority} of the {@link RemoteMediaTrack}.\n     * @param {?Track.Priority} priority - the new subscribe {@link Track.Priority};\n     *   If <code>null</code>, then the subscribe {@link Track.Priority} is cleared, which\n     *   means the {@link Track.Priority} set by the publisher is now the effective priority.\n     * @returns {this}\n     * @throws {RangeError}\n     */\n    RemoteMediaTrack.prototype.setPriority = function (priority) {\n      var priorityValues = __spreadArray([null], __read(Object.values(trackPriority)));\n      if (!priorityValues.includes(priority)) {\n        // eslint-disable-next-line new-cap\n        throw E.INVALID_VALUE('priority', priorityValues);\n      }\n      if (this._priority !== priority) {\n        this._priority = priority;\n        this._setPriority(priority);\n      }\n      return this;\n    };\n    /**\n     * @private\n     * @param {boolean} isEnabled\n     */\n    RemoteMediaTrack.prototype._setEnabled = function (isEnabled) {\n      if (this._isEnabled !== isEnabled) {\n        this._isEnabled = isEnabled;\n        this.emit(this._isEnabled ? 'enabled' : 'disabled', this);\n      }\n    };\n    /**\n     * @private\n     * @param {boolean} isSwitchedOff\n     */\n    RemoteMediaTrack.prototype._setSwitchedOff = function (isSwitchedOff) {\n      if (this._isSwitchedOff !== isSwitchedOff) {\n        this._isSwitchedOff = isSwitchedOff;\n        this.emit(isSwitchedOff ? 'switchedOff' : 'switchedOn', this);\n      }\n    };\n    RemoteMediaTrack.prototype.attach = function (el) {\n      var result = _super.prototype.attach.call(this, el);\n      if (this.mediaStreamTrack.enabled !== true) {\n        // NOTE(mpatwardhan): we disable mediaStreamTrack when there\n        // are no attachments to it (see notes below). Now that there\n        // are attachments re-enable the track.\n        this.mediaStreamTrack.enabled = true;\n        if (this.processedTrack) {\n          this.processedTrack.enabled = true;\n        }\n        // NOTE(csantos): since remote tracks disables/enables the mediaStreamTrack,\n        // captureFrames stops along with it. We need to start it again after re-enabling.\n        // See attach/detach methods in this class and in VideoTrack class.\n        if (this.processor) {\n          this._captureFrames();\n        }\n      }\n      if (this._workaroundWebKitBug212780) {\n        this._workaroundWebKitBug212780Cleanup = this._workaroundWebKitBug212780Cleanup || playIfPausedWhileInBackground(this);\n      }\n      return result;\n    };\n    RemoteMediaTrack.prototype.detach = function (el) {\n      var result = _super.prototype.detach.call(this, el);\n      if (this._attachments.size === 0) {\n        // NOTE(mpatwardhan): chrome continues playing webrtc audio\n        // track even after audio element is removed from the DOM.\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=749928\n        // to workaround: here disable the track when\n        // there are no elements attached to it.\n        this.mediaStreamTrack.enabled = false;\n        if (this.processedTrack) {\n          this.processedTrack.enabled = false;\n        }\n        if (this._workaroundWebKitBug212780Cleanup) {\n          // unhook visibility change\n          this._workaroundWebKitBug212780Cleanup();\n          this._workaroundWebKitBug212780Cleanup = null;\n        }\n      }\n      return result;\n    };\n    return RemoteMediaTrack;\n  }(AudioOrVideoTrack);\n}\nfunction playIfPausedWhileInBackground(remoteMediaTrack) {\n  var log = remoteMediaTrack._log,\n    kind = remoteMediaTrack.kind;\n  function onVisibilityChanged(isVisible) {\n    if (!isVisible) {\n      return;\n    }\n    remoteMediaTrack._attachments.forEach(function (el) {\n      var shim = remoteMediaTrack._elShims.get(el);\n      var isInadvertentlyPaused = el.paused && shim && !shim.pausedIntentionally();\n      if (isInadvertentlyPaused) {\n        log.info(\"Playing inadvertently paused <\" + kind + \"> element\");\n        log.debug('Element:', el);\n        log.debug('RemoteMediaTrack:', remoteMediaTrack);\n        el.play().then(function () {\n          log.info(\"Successfully played inadvertently paused <\" + kind + \"> element\");\n          log.debug('Element:', el);\n          log.debug('RemoteMediaTrack:', remoteMediaTrack);\n        }).catch(function (err) {\n          log.warn(\"Error while playing inadvertently paused <\" + kind + \"> element:\", {\n            err: err,\n            el: el,\n            remoteMediaTrack: remoteMediaTrack\n          });\n        });\n      }\n    });\n  }\n  // NOTE(mpatwardhan): listen for document visibility callback on phase 2.\n  // this ensures that any LocalMediaTrack's restart (which listen on phase 1) gets executed\n  // first. This order is important because we `play` tracks in the callback, and\n  // play can fail on safari if audio is not being captured.\n  documentVisibilityMonitor.onVisibilityChange(2, onVisibilityChanged);\n  return function () {\n    documentVisibilityMonitor.offVisibilityChange(2, onVisibilityChanged);\n  };\n}\n/**\n * A {@link RemoteMediaTrack} was disabled.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   disabled\n * @event RemoteMediaTrack#disabled\n */\n/**\n * A {@link RemoteMediaTrack} was enabled.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   enabled\n * @event RemoteMediaTrack#enabled\n */\n/**\n * A {@link RemoteMediaTrack} was switched off.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   switched off\n * @event RemoteMediaTrack#switchedOff\n */\n/**\n * A {@link RemoteMediaTrack} was switched on.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   switched on\n * @event RemoteMediaTrack#switchedOn\n */\n/**\n * A {@link ClientRenderHint} object specifies track dimensions and /enabled disable state.\n * This state will be used by the server(SFU) to determine bandwidth allocation for the track,\n * and turn it on or off as needed.\n * @typedef {object} ClientRenderHint\n * @property {boolean} [enabled] - track is enabled or disabled. defaults to disabled.\n * @property {VideoTrack.Dimensions} [renderDimensions] - Optional parameter to specify the desired\n *   render dimensions of {@link RemoteVideoTrack}s. This property must be specified if enabled=true\n */\nmodule.exports = mixinRemoteMediaTrack;","map":{"version":3,"names":["_a","require","E","typeErrors","trackPriority","isIOS","documentVisibilityMonitor","mixinRemoteMediaTrack","AudioOrVideoTrack","_super","__extends","RemoteMediaTrack","sid","mediaTrackReceiver","isEnabled","isSwitchedOff","setPriority","setRenderHint","options","_this","Object","assign","workaroundWebKitBug212780","document","addEventListener","visibilityState","call","defineProperties","_isEnabled","value","writable","_isSwitchedOff","_priority","_setPriority","_setRenderHint","renderHint","_log","debug","enumerable","get","priority","_workaroundWebKitBug212780","_workaroundWebKitBug212780Cleanup","prototype","priorityValues","__spreadArray","__read","values","includes","INVALID_VALUE","_setEnabled","emit","_setSwitchedOff","attach","el","result","mediaStreamTrack","enabled","processedTrack","processor","_captureFrames","playIfPausedWhileInBackground","detach","_attachments","size","remoteMediaTrack","log","kind","onVisibilityChanged","isVisible","forEach","shim","_elShims","isInadvertentlyPaused","paused","pausedIntentionally","info","play","then","catch","err","warn","onVisibilityChange","offVisibilityChange","module","exports"],"sources":["C:\\Users\\gamin\\OneDrive\\Desktop\\Project\\Whiteboard\\live-whiteboard-app\\whiteboard-frontend\\node_modules\\twilio-video\\lib\\media\\track\\remotemediatrack.js"],"sourcesContent":["'use strict';\n\nconst { typeErrors: E, trackPriority } = require('../../util/constants');\nconst { isIOS } = require('../../util/browserdetection');\nconst documentVisibilityMonitor = require('../../util/documentvisibilitymonitor.js');\n\nfunction mixinRemoteMediaTrack(AudioOrVideoTrack) {\n  /**\n   * A {@link RemoteMediaTrack} represents a {@link MediaTrack} published to a\n   * {@link Room} by a {@link RemoteParticipant}.\n   * @property {boolean} isEnabled - Whether the {@link RemoteMediaTrack} is enabled\n   * @property {boolean} isSwitchedOff - Whether the {@link RemoteMediaTrack} is switched off\n   * @property {Track.SID} sid - The SID assigned to the {@link RemoteMediaTrack}\n   * @property {?Track.Priority} priority - The subscribe priority of the {@link RemoteMediaTrack}\n   * @emits RemoteMediaTrack#disabled\n   * @emits RemoteMediaTrack#enabled\n   * @emits RemoteMediaTrack#switchedOff\n   * @emits RemoteMediaTrack#switchedOn\n   */\n  return class RemoteMediaTrack extends AudioOrVideoTrack {\n    /**\n     * Construct a {@link RemoteMediaTrack}.\n     * @param {Track.SID} sid\n     * @param {MediaTrackReceiver} mediaTrackReceiver\n     * @param {boolean} isEnabled\n      @param {boolean} isSwitchedOff\n     * @param {function(?Track.Priority): void} setPriority - Set or clear the subscribe\n     *  {@link Track.Priority} of the {@link RemoteMediaTrack}\n     * @param {function(ClientRenderHint): void} setRenderHint - Set render hints.\n     * @param {{log: Log, name: ?string}} options\n     */\n    constructor(sid, mediaTrackReceiver, isEnabled, isSwitchedOff, setPriority, setRenderHint, options) {\n      options = Object.assign({\n        // NOTE(mpatwardhan): WebKit bug: 212780 sometimes causes the audio/video elements to stay paused when safari\n        // regains foreground. To workaround it, when safari gains foreground - we will play any elements that were\n        // playing before safari lost foreground.\n        workaroundWebKitBug212780: isIOS()\n          && typeof document === 'object'\n          && typeof document.addEventListener === 'function'\n          && typeof document.visibilityState === 'string'\n      }, options);\n\n      super(mediaTrackReceiver, options);\n\n      Object.defineProperties(this, {\n        _isEnabled: {\n          value: isEnabled,\n          writable: true\n        },\n        _isSwitchedOff: {\n          value: isSwitchedOff,\n          writable: true\n        },\n        _priority: {\n          value: null,\n          writable: true\n        },\n        _setPriority: {\n          value: setPriority\n        },\n        _setRenderHint: {\n          value: renderHint => {\n            this._log.debug('updating render hint:', renderHint);\n            setRenderHint(renderHint);\n          }\n        },\n        isEnabled: {\n          enumerable: true,\n          get() {\n            return this._isEnabled;\n          }\n        },\n        isSwitchedOff: {\n          enumerable: true,\n          get() {\n            return this._isSwitchedOff;\n          }\n        },\n        priority: {\n          enumerable: true,\n          get() {\n            return this._priority;\n          }\n        },\n        sid: {\n          enumerable: true,\n          value: sid\n        },\n        _workaroundWebKitBug212780: {\n          value: options.workaroundWebKitBug212780\n        },\n        _workaroundWebKitBug212780Cleanup: {\n          value: null,\n          writable: true\n        }\n      });\n    }\n\n    /**\n     * Update the subscribe {@link Track.Priority} of the {@link RemoteMediaTrack}.\n     * @param {?Track.Priority} priority - the new subscribe {@link Track.Priority};\n     *   If <code>null</code>, then the subscribe {@link Track.Priority} is cleared, which\n     *   means the {@link Track.Priority} set by the publisher is now the effective priority.\n     * @returns {this}\n     * @throws {RangeError}\n     */\n    setPriority(priority) {\n      const priorityValues = [null, ...Object.values(trackPriority)];\n      if (!priorityValues.includes(priority)) {\n        // eslint-disable-next-line new-cap\n        throw E.INVALID_VALUE('priority', priorityValues);\n      }\n      if (this._priority !== priority) {\n        this._priority = priority;\n        this._setPriority(priority);\n      }\n      return this;\n    }\n\n    /**\n     * @private\n     * @param {boolean} isEnabled\n     */\n    _setEnabled(isEnabled) {\n      if (this._isEnabled !== isEnabled) {\n        this._isEnabled = isEnabled;\n        this.emit(this._isEnabled ? 'enabled' : 'disabled', this);\n      }\n    }\n\n    /**\n     * @private\n     * @param {boolean} isSwitchedOff\n     */\n    _setSwitchedOff(isSwitchedOff) {\n      if (this._isSwitchedOff !== isSwitchedOff) {\n        this._isSwitchedOff = isSwitchedOff;\n        this.emit(isSwitchedOff ? 'switchedOff' : 'switchedOn', this);\n      }\n    }\n\n    attach(el) {\n      const result = super.attach(el);\n      if (this.mediaStreamTrack.enabled !== true) {\n        // NOTE(mpatwardhan): we disable mediaStreamTrack when there\n        // are no attachments to it (see notes below). Now that there\n        // are attachments re-enable the track.\n        this.mediaStreamTrack.enabled = true;\n        if (this.processedTrack) {\n          this.processedTrack.enabled = true;\n        }\n\n        // NOTE(csantos): since remote tracks disables/enables the mediaStreamTrack,\n        // captureFrames stops along with it. We need to start it again after re-enabling.\n        // See attach/detach methods in this class and in VideoTrack class.\n        if (this.processor) {\n          this._captureFrames();\n        }\n      }\n      if (this._workaroundWebKitBug212780) {\n        this._workaroundWebKitBug212780Cleanup = this._workaroundWebKitBug212780Cleanup\n          || playIfPausedWhileInBackground(this);\n      }\n\n      return result;\n    }\n\n    detach(el) {\n      const result = super.detach(el);\n      if (this._attachments.size === 0) {\n        // NOTE(mpatwardhan): chrome continues playing webrtc audio\n        // track even after audio element is removed from the DOM.\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=749928\n        // to workaround: here disable the track when\n        // there are no elements attached to it.\n        this.mediaStreamTrack.enabled = false;\n        if (this.processedTrack) {\n          this.processedTrack.enabled = false;\n        }\n\n        if (this._workaroundWebKitBug212780Cleanup) {\n          // unhook visibility change\n          this._workaroundWebKitBug212780Cleanup();\n          this._workaroundWebKitBug212780Cleanup = null;\n        }\n      }\n      return result;\n    }\n  };\n}\n\nfunction playIfPausedWhileInBackground(remoteMediaTrack) {\n  const { _log: log, kind } = remoteMediaTrack;\n\n  function onVisibilityChanged(isVisible) {\n    if (!isVisible) {\n      return;\n    }\n    remoteMediaTrack._attachments.forEach(el => {\n      const shim = remoteMediaTrack._elShims.get(el);\n      const isInadvertentlyPaused = el.paused && shim && !shim.pausedIntentionally();\n      if (isInadvertentlyPaused) {\n        log.info(`Playing inadvertently paused <${kind}> element`);\n        log.debug('Element:', el);\n        log.debug('RemoteMediaTrack:', remoteMediaTrack);\n        el.play().then(() => {\n          log.info(`Successfully played inadvertently paused <${kind}> element`);\n          log.debug('Element:', el);\n          log.debug('RemoteMediaTrack:', remoteMediaTrack);\n        }).catch(err => {\n          log.warn(`Error while playing inadvertently paused <${kind}> element:`, { err, el, remoteMediaTrack });\n        });\n      }\n    });\n  }\n\n  // NOTE(mpatwardhan): listen for document visibility callback on phase 2.\n  // this ensures that any LocalMediaTrack's restart (which listen on phase 1) gets executed\n  // first. This order is important because we `play` tracks in the callback, and\n  // play can fail on safari if audio is not being captured.\n  documentVisibilityMonitor.onVisibilityChange(2, onVisibilityChanged);\n  return () => {\n    documentVisibilityMonitor.offVisibilityChange(2, onVisibilityChanged);\n  };\n}\n\n/**\n * A {@link RemoteMediaTrack} was disabled.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   disabled\n * @event RemoteMediaTrack#disabled\n */\n\n/**\n * A {@link RemoteMediaTrack} was enabled.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   enabled\n * @event RemoteMediaTrack#enabled\n */\n\n/**\n * A {@link RemoteMediaTrack} was switched off.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   switched off\n * @event RemoteMediaTrack#switchedOff\n */\n\n/**\n * A {@link RemoteMediaTrack} was switched on.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   switched on\n * @event RemoteMediaTrack#switchedOn\n */\n\n/**\n * A {@link ClientRenderHint} object specifies track dimensions and /enabled disable state.\n * This state will be used by the server(SFU) to determine bandwidth allocation for the track,\n * and turn it on or off as needed.\n * @typedef {object} ClientRenderHint\n * @property {boolean} [enabled] - track is enabled or disabled. defaults to disabled.\n * @property {VideoTrack.Dimensions} [renderDimensions] - Optional parameter to specify the desired\n *   render dimensions of {@link RemoteVideoTrack}s. This property must be specified if enabled=true\n */\n\nmodule.exports = mixinRemoteMediaTrack;\n"],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEN,IAAAA,EAAA,GAAmCC,OAAO,CAAC,sBAAsB,CAAC;EAApDC,CAAC,GAAAF,EAAA,CAAAG,UAAA;EAAEC,aAAa,GAAAJ,EAAA,CAAAI,aAAoC;AAChE,IAAAC,KAAK,GAAKJ,OAAO,CAAC,6BAA6B,CAAC,CAAAI,KAA3C;AACb,IAAMC,yBAAyB,GAAGL,OAAO,CAAC,yCAAyC,CAAC;AAEpF,SAASM,qBAAqBA,CAACC,iBAAiB;EAC9C;;;;;;;;;;;;EAYA,8BAAAC,MAAA;IAAsCC,SAAA,CAAAC,gBAAA,EAAAF,MAAA;IACpC;;;;;;;;;;;IAWA,SAAAE,iBAAYC,GAAG,EAAEC,kBAAkB,EAAEC,SAAS,EAAEC,aAAa,EAAEC,WAAW,EAAEC,aAAa,EAAEC,OAAO;MAAlG,IAAAC,KAAA;MACED,OAAO,GAAGE,MAAM,CAACC,MAAM,CAAC;QACtB;QACA;QACA;QACAC,yBAAyB,EAAEjB,KAAK,EAAE,IAC7B,OAAOkB,QAAQ,KAAK,QAAQ,IAC5B,OAAOA,QAAQ,CAACC,gBAAgB,KAAK,UAAU,IAC/C,OAAOD,QAAQ,CAACE,eAAe,KAAK;OAC1C,EAAEP,OAAO,CAAC;MAEXC,KAAA,GAAAV,MAAA,CAAAiB,IAAA,OAAMb,kBAAkB,EAAEK,OAAO,CAAC;MAElCE,MAAM,CAACO,gBAAgB,CAACR,KAAI,EAAE;QAC5BS,UAAU,EAAE;UACVC,KAAK,EAAEf,SAAS;UAChBgB,QAAQ,EAAE;SACX;QACDC,cAAc,EAAE;UACdF,KAAK,EAAEd,aAAa;UACpBe,QAAQ,EAAE;SACX;QACDE,SAAS,EAAE;UACTH,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE;SACX;QACDG,YAAY,EAAE;UACZJ,KAAK,EAAEb;SACR;QACDkB,cAAc,EAAE;UACdL,KAAK,EAAE,SAAAA,CAAAM,UAAU;YACfhB,KAAI,CAACiB,IAAI,CAACC,KAAK,CAAC,uBAAuB,EAAEF,UAAU,CAAC;YACpDlB,aAAa,CAACkB,UAAU,CAAC;UAC3B;SACD;QACDrB,SAAS,EAAE;UACTwB,UAAU,EAAE,IAAI;UAChBC,GAAG,WAAAA,CAAA;YACD,OAAO,IAAI,CAACX,UAAU;UACxB;SACD;QACDb,aAAa,EAAE;UACbuB,UAAU,EAAE,IAAI;UAChBC,GAAG,WAAAA,CAAA;YACD,OAAO,IAAI,CAACR,cAAc;UAC5B;SACD;QACDS,QAAQ,EAAE;UACRF,UAAU,EAAE,IAAI;UAChBC,GAAG,WAAAA,CAAA;YACD,OAAO,IAAI,CAACP,SAAS;UACvB;SACD;QACDpB,GAAG,EAAE;UACH0B,UAAU,EAAE,IAAI;UAChBT,KAAK,EAAEjB;SACR;QACD6B,0BAA0B,EAAE;UAC1BZ,KAAK,EAAEX,OAAO,CAACI;SAChB;QACDoB,iCAAiC,EAAE;UACjCb,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE;;OAEb,CAAC;;IACJ;IAEA;;;;;;;;IAQAnB,gBAAA,CAAAgC,SAAA,CAAA3B,WAAW,GAAX,UAAYwB,QAAQ;MAClB,IAAMI,cAAc,GAAAC,aAAA,EAAI,IAAI,GAAAC,MAAA,CAAK1B,MAAM,CAAC2B,MAAM,CAAC3C,aAAa,CAAC,EAAC;MAC9D,IAAI,CAACwC,cAAc,CAACI,QAAQ,CAACR,QAAQ,CAAC,EAAE;QACtC;QACA,MAAMtC,CAAC,CAAC+C,aAAa,CAAC,UAAU,EAAEL,cAAc,CAAC;;MAEnD,IAAI,IAAI,CAACZ,SAAS,KAAKQ,QAAQ,EAAE;QAC/B,IAAI,CAACR,SAAS,GAAGQ,QAAQ;QACzB,IAAI,CAACP,YAAY,CAACO,QAAQ,CAAC;;MAE7B,OAAO,IAAI;IACb,CAAC;IAED;;;;IAIA7B,gBAAA,CAAAgC,SAAA,CAAAO,WAAW,GAAX,UAAYpC,SAAS;MACnB,IAAI,IAAI,CAACc,UAAU,KAAKd,SAAS,EAAE;QACjC,IAAI,CAACc,UAAU,GAAGd,SAAS;QAC3B,IAAI,CAACqC,IAAI,CAAC,IAAI,CAACvB,UAAU,GAAG,SAAS,GAAG,UAAU,EAAE,IAAI,CAAC;;IAE7D,CAAC;IAED;;;;IAIAjB,gBAAA,CAAAgC,SAAA,CAAAS,eAAe,GAAf,UAAgBrC,aAAa;MAC3B,IAAI,IAAI,CAACgB,cAAc,KAAKhB,aAAa,EAAE;QACzC,IAAI,CAACgB,cAAc,GAAGhB,aAAa;QACnC,IAAI,CAACoC,IAAI,CAACpC,aAAa,GAAG,aAAa,GAAG,YAAY,EAAE,IAAI,CAAC;;IAEjE,CAAC;IAEDJ,gBAAA,CAAAgC,SAAA,CAAAU,MAAM,GAAN,UAAOC,EAAE;MACP,IAAMC,MAAM,GAAG9C,MAAA,CAAAkC,SAAA,CAAMU,MAAM,CAAA3B,IAAA,OAAC4B,EAAE,CAAC;MAC/B,IAAI,IAAI,CAACE,gBAAgB,CAACC,OAAO,KAAK,IAAI,EAAE;QAC1C;QACA;QACA;QACA,IAAI,CAACD,gBAAgB,CAACC,OAAO,GAAG,IAAI;QACpC,IAAI,IAAI,CAACC,cAAc,EAAE;UACvB,IAAI,CAACA,cAAc,CAACD,OAAO,GAAG,IAAI;;QAGpC;QACA;QACA;QACA,IAAI,IAAI,CAACE,SAAS,EAAE;UAClB,IAAI,CAACC,cAAc,EAAE;;;MAGzB,IAAI,IAAI,CAACnB,0BAA0B,EAAE;QACnC,IAAI,CAACC,iCAAiC,GAAG,IAAI,CAACA,iCAAiC,IAC1EmB,6BAA6B,CAAC,IAAI,CAAC;;MAG1C,OAAON,MAAM;IACf,CAAC;IAED5C,gBAAA,CAAAgC,SAAA,CAAAmB,MAAM,GAAN,UAAOR,EAAE;MACP,IAAMC,MAAM,GAAG9C,MAAA,CAAAkC,SAAA,CAAMmB,MAAM,CAAApC,IAAA,OAAC4B,EAAE,CAAC;MAC/B,IAAI,IAAI,CAACS,YAAY,CAACC,IAAI,KAAK,CAAC,EAAE;QAChC;QACA;QACA;QACA;QACA;QACA,IAAI,CAACR,gBAAgB,CAACC,OAAO,GAAG,KAAK;QACrC,IAAI,IAAI,CAACC,cAAc,EAAE;UACvB,IAAI,CAACA,cAAc,CAACD,OAAO,GAAG,KAAK;;QAGrC,IAAI,IAAI,CAACf,iCAAiC,EAAE;UAC1C;UACA,IAAI,CAACA,iCAAiC,EAAE;UACxC,IAAI,CAACA,iCAAiC,GAAG,IAAI;;;MAGjD,OAAOa,MAAM;IACf,CAAC;IACH,OAAA5C,gBAAC;EAAD,CAAC,CAzKqCH,iBAAiB;AA0KzD;AAEA,SAASqD,6BAA6BA,CAACI,gBAAgB;EAC7C,IAAMC,GAAG,GAAWD,gBAAgB,CAAA7B,IAA3B;IAAE+B,IAAI,GAAKF,gBAAgB,CAAAE,IAArB;EAEvB,SAASC,mBAAmBA,CAACC,SAAS;IACpC,IAAI,CAACA,SAAS,EAAE;MACd;;IAEFJ,gBAAgB,CAACF,YAAY,CAACO,OAAO,CAAC,UAAAhB,EAAE;MACtC,IAAMiB,IAAI,GAAGN,gBAAgB,CAACO,QAAQ,CAACjC,GAAG,CAACe,EAAE,CAAC;MAC9C,IAAMmB,qBAAqB,GAAGnB,EAAE,CAACoB,MAAM,IAAIH,IAAI,IAAI,CAACA,IAAI,CAACI,mBAAmB,EAAE;MAC9E,IAAIF,qBAAqB,EAAE;QACzBP,GAAG,CAACU,IAAI,CAAC,mCAAiCT,IAAI,cAAW,CAAC;QAC1DD,GAAG,CAAC7B,KAAK,CAAC,UAAU,EAAEiB,EAAE,CAAC;QACzBY,GAAG,CAAC7B,KAAK,CAAC,mBAAmB,EAAE4B,gBAAgB,CAAC;QAChDX,EAAE,CAACuB,IAAI,EAAE,CAACC,IAAI,CAAC;UACbZ,GAAG,CAACU,IAAI,CAAC,+CAA6CT,IAAI,cAAW,CAAC;UACtED,GAAG,CAAC7B,KAAK,CAAC,UAAU,EAAEiB,EAAE,CAAC;UACzBY,GAAG,CAAC7B,KAAK,CAAC,mBAAmB,EAAE4B,gBAAgB,CAAC;QAClD,CAAC,CAAC,CAACc,KAAK,CAAC,UAAAC,GAAG;UACVd,GAAG,CAACe,IAAI,CAAC,+CAA6Cd,IAAI,eAAY,EAAE;YAAEa,GAAG,EAAAA,GAAA;YAAE1B,EAAE,EAAAA,EAAA;YAAEW,gBAAgB,EAAAA;UAAA,CAAE,CAAC;QACxG,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;EAEA;EACA;EACA;EACA;EACA3D,yBAAyB,CAAC4E,kBAAkB,CAAC,CAAC,EAAEd,mBAAmB,CAAC;EACpE,OAAO;IACL9D,yBAAyB,CAAC6E,mBAAmB,CAAC,CAAC,EAAEf,mBAAmB,CAAC;EACvE,CAAC;AACH;AAEA;;;;;;AAOA;;;;;;AAOA;;;;;;AAOA;;;;;;AAOA;;;;;;;;;AAUAgB,MAAM,CAACC,OAAO,GAAG9E,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}